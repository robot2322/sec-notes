## 0x01 软件安全设计概述

### 1.1 软件安全设计的重要性

- 统计发现，软件中50%~75%的问题是在设计阶段引入的，且修复成本会随着发现时间的推迟而增长。
- 在项目中的设计错误，可能会使程序员浪费大量的时间在不必要的事情上。
- 存在设计问题的产品一旦被应用，成千上万用户可能都面临着危险，损失无法估量。

### 1.2 软件安全设计原则

#### 1.2.1 保护最薄弱环节

​	软件抵御攻击时的弹性主要依赖于最弱组件的安全性，它们可能是代码、服务或者接口，最弱环节的攻破将导致整个系统的安全性受到破坏。

#### 1.2.2 纵深防御

​	使用多重防御策略来抵御风险，当一层防御不够时，另一层防御将会阻止进一步的破坏。

#### 1.2.3 职责权限分离

​	分配不同的任务给不同职位的人，或者在多个人间针对某个特定的安全操作过程分配相关的特权。

#### 1.2.4 最小特权

​	任何实体（用户、管理员、进程、应用和系统等）仅拥有该主体完成规定任务所必须的权限，此外没有更多的权限。

#### 1.2.5 默认故障处理保护

​	任何复杂系统都难免出现各类故障，可以设法避免由于故障所带来的安全性问题。

#### 1.2.6 攻击面最小化

​	对一个软件系统可以采取的攻击方法集合，软件的功能、API、接口、资源、数据存储等都是受攻击面，通过将攻击面最小化来提高软件源代码安全性。

#### 1.2.7 经济机制

​	系统的设计和实现应该尽量简单，以降低因复杂性带来的安全问题。

#### 1.2.8 完全中立

​	每个访问受保护对象的行为都应当被检查。

#### 1.2.9 心里可接受程度

​	安全机制应该对用户很“友好”，从而让用户使用便利，方便用户对软件程序的理解。

#### 1.2.10 公开设计

​	应该假定攻击者有能力获取系统足够的信息来发起攻击，而不是依赖于攻击者不可能知道来保护系统的安全。

#### 1.2.11 最小共享机制

​	使诸如文件以及变量等类似的共享资源尽可能少。当对同一个文件进行修改操作时，单独控制一个操作过程比并行控制两个过程要更容易一些。

#### 1.2.12 隐私保护

​	系统收集到的用户信息都必须实施妥善和安全的保护。

### 1.3 平衡安全设计原则

​	软件安全设计原则每一项都有自己的侧重点，将所有这些安全原则都设计到软件中是不可能的。因此有必要在这些安全原则间进行决策折中，即平衡安全设计原则。

## 0x02 软件安全设计过程

### 2.1 受攻击面分析

### 2.2 威胁建模

### 2.3 软件安全设计方法

## 0x03 软件安全架构设计

### 3.1 常见软件架构

#### 3.1.1 分布式计算架构



